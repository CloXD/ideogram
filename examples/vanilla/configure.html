<!DOCTYPE html>
<html>
<head>
    <title>Configure | Ideogram</title>
    <style>
        body {
            font: 12px Arial;
            line-height: 19.6px;
        }

        #container {
            clear: both;
        }

        #config-list {
            float: left;
        }

        li ul {
            padding: 2px 0 10px 10px;
        }

        li ul li {
            list-style-type: none;
        }
    </style>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
    <script type="text/javascript" src="../../dist/js/ideogram.min.js"></script>
</head>
<body>
<h1>Configure | Ideogram</h1>
<a href="../">Back to overview</a> |
<a href="annotations-overlaid">Previous</a> |
<a href="annotations-external-data">Next</a>
<p>
    Change the shape, color and size of annotations by selecting options below.
</p>

<ul id="config-list">
<li>
    Shape
    <ul>
        <li><label for="triangle"><input type="radio" name="shape" value="triangle" id="triangle" checked="checked">Triangle</label></li>
        <li><label for="circle"><input type="radio" name="shape" value="circle" id="circle">Circle</label>
        <li><label for="rectangle"><input type="radio" name="shape" value="rectangle" id="rectangle">Rectangle</label></li>
        <li><label for="path"><input type="radio" name="shape" value="path" id="path">Path
            <span id="path-input-container" style="display: none;">
            <input id="path-input" type="text"/><button id="path-button">Go</button>
            </span>
        </label></li>
    </ul>
</li>
</ul>


<div id="container">

</div>
<script type="text/javascript">

  var d3 = Ideogram.d3;

  d3.selectAll('input[type=radio]').on('change', function(d) {
    var shape = d3.select(this).attr('value');

    if (shape === 'path') {
      return;
    }

    d3.select('#_ideogram').remove();

    drawIdeogram(shape);

  });

  function drawIdeogram(shape) {

    var annotationTracks = [
      {id: 'pathogenicTrack', displayName: 'Pathogenic', color: '#F00', shape: shape},
      {id: 'uncertainSignificanceTrack', displayName: 'Uncertain significance', color: '#CCC', shape: shape},
      {id: 'benignTrack',  displayName: 'Benign', color: '#8D4', shape: shape}
    ];

    var config = {
      organism: 'human',
      orientation: 'vertical',
      container: '#container',
      chrWidth: 8,
      chrHeight: 300,
      chrMargin: 7,
      annotationsPath: '../../data/annotations/1000_virtual_snvs.json',
      annotationTracks: annotationTracks
    };

    var ideogram = new Ideogram(config);
  }

  drawIdeogram('triangle');


</script>
</body>
</html>
